<!DOCTYPE html>
<html lang="en-US">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Neurodivergent-Friendly Task Management">
<meta name="author" content="Jordan Clayton">

<title>Building Allocate Â· Allocate</title>

<link rel="canonical" href="//localhost:1313/docs/building-allocate/">









<link rel="stylesheet" href="/scss/base.css" integrity="">



<link rel="stylesheet" href="/scss/theme/default.css" integrity="">



  <link rel="preconnect" href="https://CNK71ZG9VQ-dsn.algolia.net" crossorigin />
  
  <link rel="stylesheet" href="/scss/component/docsearch.css" integrity=""/>


<link rel="stylesheet" href="//localhost:1313/css/custom.css">

<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/img/icon/favicon.ico">
<link rel="icon" href="/img/icon/icon-16.png" sizes="16x16" type="image/png">
<link rel="icon" href="/img/icon/icon-32.png" sizes="32x32" type="image/png">
<link rel="apple-touch-icon" href="/img/icon/icon-180.png" sizes="180x180">
<meta name="theme-color" content="#FFFFFF" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#121212" media="(prefers-color-scheme: dark)">
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', '');
</script>


  

  </head>
  <body>
    <header id="site-header">
  
  <div id="site-header-brand">
    <a href="/">Allocate</a>
  </div>

  
  <div id="site-header-controls">
    
    <div class="dropdown">
      <button class="dropdown-btn" aria-haspopup="menu" aria-label="theme selector">
        <i class="icon icon-brightness"></i>
        <i class="icon icon-select"></i>
      </button>
      <ul role="menu" class="dropdown-menu">
        <li role="menuitem"><button class="color-scheme" data-value="light"><i class="icon icon-light-mode"></i> Light</button></li>
        <li role="menuitem"><button class="color-scheme" data-value="dark"><i class="icon icon-dark-mode"></i> Dark &nbsp;</button></li>
        <li role="menuitem"><button class="color-scheme" data-value="night"><i class="icon icon-night-mode"></i> Night</button></li>
      </ul>
    </div>

    
    <div class="dropdown">
      <button class="dropdown-btn" aria-haspopup="menu" aria-label="language selector">
        <i class="icon icon-translate"></i>
        <i class="icon icon-select"></i>
      </button>
      <ul role="menu" class="dropdown-menu">
        
          <li role="menuitem"><a href="#">English</a></li>
        
      </ul>
    </div>
  </div>

  
  <div id="site-header-menu">
    <nav>
      <ul>
        
        
        
          
          <li><a href="/" ><i class='icon icon-home'></i>Home</a></li>
        
          
          <li><a href="/docs"  class="active"><i class='icon icon-book'></i>Documentation</a></li>
        
      </ul>
    </nav>
  </div>

  
  <div id="site-header-search"></div>
</header>
    
<div id="site-main-content-wrapper">
  
  
    


<aside id="sidebar">
  <span class="btn-close"><i class="icon icon-close"></i></span>

  <div class="sticky"><strong class="sidebar-section">Documentation</strong>
          
          <a class="sidebar-link " href="/docs/overview/">
            
              Overview
            
          </a>

        
          
          <a class="sidebar-link " href="/docs/features/">
            
              Features
            
          </a>

        <strong class="sidebar-section">Getting Started</strong>
          
          <a class="sidebar-link " href="/docs/why-do-i-have-to-build-allocate/">
            
              Why Do I Have To Build Allocate?
            
          </a>

        
          
          <a class="sidebar-link current" href="/docs/building-allocate/">
            
              Building Allocate
            
          </a>

        
          
          <a class="sidebar-link " href="/docs/installation/">
            
              Installation
            
          </a>

        
          
          <a class="sidebar-link " href="/docs/setting-up/">
            
              Setting up
            
          </a>

        <strong class="sidebar-section">Using Allocate</strong>
          
          <a class="sidebar-link " href="/docs/setting-tasks/">
            
              Setting Tasks
            
          </a>

        
          
          <a class="sidebar-link " href="/docs/setting-reminders-and-deadlines/">
            
              Setting Reminders and Deadlines
            
          </a>

        
          
          <a class="sidebar-link " href="/docs/setting-routines/">
            
              Setting Routines
            
          </a>

        
          
          <a class="sidebar-link " href="/docs/grouping-tasks/">
            
              Grouping tasks
            
          </a>

        
          
          <a class="sidebar-link " href="/docs/user-settings/">
            
              User Settings
            
          </a>

        
  </div>
</aside>

  
  <main>
    <article id="article">
      <nav id="article-nav">
  <button id="article-nav-menu-btn"><i class="icon icon-menu"></i> On this section</button>
  <button id="article-nav-toc-btn"><i class="icon icon-toc"></i> On this page</button>
</nav>
      <header id="article-header">
  <h1>Building Allocate</h1>
</header>
      <div id="article-content">
        
        
        <h2 id="prerequisites">Prerequisites</h2>
<p>This guide assumes you have a basic understanding of the command line.</p>
<p>Allocate has been designed using Supabase for its online storage. If you would prefer an alternative, you will need to modify and build the project accordingly. These instructions only apply to using Supabase. For offline-only use, see <a href="/docs/building-allocate/#offline">Building (Offline)</a>.</p>
<p>MacOS and iOS build targets both require you to build using a Mac. If you do not have access to Apple hardware, consider using a cloud service like <a href="https://codemagic.io/start/" target="_blank">codemagic</a>.</p>
<ul>
<li>Note: <a href="https://codemagic.io/start/" target="_blank">codemagic</a> requires you to have a paid Apple developer account and assumes you will be deploying the app on the App store.</li>
<li>A paid Apple Developer ID is not required to build and install Allocate. See: <a href="//localhost:1313/docs/installation/">Installation</a></li>
</ul>
<h3 id="build-tools">Build Tools</h3>
<ul>
<li><a href="https://docs.flutter.dev/get-started/install" target="_blank">Flutter</a></li>
<li><a href="https://supabase.com/docs/guides/cli/getting-started?queryGroups=platform&platform=npx" target="_blank">Supabase CLI</a> (optional: required for online)</li>
<li>(MacOS/iOS only) XCode</li>
<li>(Windows only) Visual Studio</li>
</ul>
<h3 id="database-hosting-online-only">Database Hosting (Online only)</h3>
<ul>
<li><a href="https://supabase.com/" target="_blank">Supabase</a></li>
</ul>
<h2 id="dependencies">Dependencies</h2>
<h3 id="flutter">Flutter</h3>
<ul>
<li>Install the <a href="https://docs.flutter.dev/get-started/install" target="_blank">Flutter</a> sdk for your operating system as well as any other required development tools (eg. XCode, Android Studio)</li>
<li>Ensure that flutter has been added to your PATH</li>
<li>Verify using:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">flutter doctor -v
</span></span></code></pre></div><h3 id="supabase">Supabase</h3>
<ul>
<li>
<p>Set up a new <a href="https://supabase.com/" target="_blank">Supabase</a> project and configure the Authentication as follows:</p>
<ul>
<li>Set the Site URL to io.allocate://login (the slug doesn&rsquo;t matter, only the deeplink URI)</li>
<li>Configure the following Email templates: Confirm signup, Magic link, and Change Email Address
<ul>
<li>These templates must include the {{ .Token }}. Allocate uses a 6-digit OTP to confirm sign-in/up and email changes</li>
</ul>
</li>
<li>Configure the Email Auth provider by setting the following:
<ul>
<li>Enable Email Provider</li>
<li>Confirm Email</li>
<li>Email OTP Length: 6</li>
<li>(Optional) Email OTP Expiration</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Open the SQL Editor:</p>
<ul>
<li>Copy the schema.sql from the supabase_config folder into the editor and run the code</li>
</ul>
</li>
<li>
<p>Keep your Supabase URL, Supabase Annon Key, and database password handy</p>
</li>
</ul>
<h3 id="supabase-cli">Supabase CLI</h3>
<ul>
<li>Install the <a href="https://supabase.com/docs/guides/cli/getting-started?queryGroups=platform&platform=npx" target="_blank">Supabase CLI</a></li>
<li>If you install using npm/bun, you will need to <a href="/docs/building-allocate/#building-manually">build manually</a> or set up a shell alias</li>
<li>Otherwise, feel free to use the build_allocate script for your operating system</li>
</ul>
<h3 id="allocate-project">Allocate Project</h3>
<ul>
<li>Clone or download <a href="https://github.com/jordan-clayton/allocate" target="_blank">Allocate</a>, (unzip if downloaded)</li>
</ul>
<h2 id="building">Building</h2>
<h3 id="online">Online</h3>
<ul>
<li>
<p>Navigate to the allocate project folder</p>
</li>
<li>
<p>Open build_allocate.sh (MacOS/Linux) or build_allocate.cmd (Windows) in a basic text editor and complete the following fields:</p>
<ul>
<li>supabase_url=&ldquo;your-url-goes-here&rdquo;</li>
<li>supabase_annon_key=&ldquo;your-key-goes-here&rdquo;</li>
<li>target_os=&ldquo;your-target-os&rdquo; (macos/windows/apk/ios etc.)</li>
</ul>
</li>
<li>
<p><a href="/docs/building-allocate/#building-manually">Build manually</a> or open a command line from the directory and run ./build.sh or (WINDOWS).\build.cmd</p>
<ul>
<li>This script assumes your <a href="/docs/building-allocate/#supabase-cli">Supabase CLI</a> can be run without a prefix (eg. npx/bunx)</li>
<li>Follow the prompts accordingly to link supabase</li>
<li>You will need to provide your database password</li>
</ul>
</li>
</ul>
<h3 id="offline">Offline</h3>
<ul>
<li>
<p><a href="/docs/building-allocate/#flutter">Install flutter</a></p>
</li>
<li>
<p><a href="/docs/building-allocate/#allocate-project">Download Allocate</a></p>
</li>
<li>
<p>Navigate to the allocate project folder</p>
</li>
<li>
<p>Open build_allocate.sh (MacOS/Linux) or build_allocate.cmd (Windows) in a basic text editor and complete the following fields:</p>
<ul>
<li>offline_only=&ldquo;true&rdquo;</li>
<li>target_os=&ldquo;your-target-os&rdquo; (macos/windows/apk/ios etc.)</li>
</ul>
</li>
<li>
<p><a href="/docs/building-allocate/#building-manually">Build manually</a> or open a command line from the directory and run ./build.sh or (WINDOWS).\build.cmd</p>
<ul>
<li>You will need to rebuild the project with a <a href="/docs/building-allocate/#supabase">Supabase</a> database if you want to be able to sync online</li>
</ul>
</li>
</ul>
<h3 id="building-manually">Building manually</h3>
<p>Open a command prompt, navigate to the allocate directory and input the following commands:</p>
<ul>
<li>Get dependencies:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">flutter pub clean
</span></span><span class="line"><span class="cl">flutter pub get
</span></span></code></pre></div><ul>
<li>Regenerate build graph and generate asset files:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dart run build_runner build <span class="c1"># Enter 1 if prompted to re-generate files</span>
</span></span><span class="line"><span class="cl">dart run icons_launcher:create
</span></span><span class="line"><span class="cl">dart run flutter_native_splash:create
</span></span></code></pre></div><ul>
<li>If building offline only:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">flutter build <span class="s2">&#34;your-os-target-here&#34;</span> --release --dart-define<span class="o">=</span><span class="nv">OFFLINE</span><span class="o">=</span><span class="nb">true</span>
</span></span></code></pre></div><ul>
<li>Otherwise, build online:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">flutter build <span class="s2">&#34;your-os-target-here&#34;</span> --release --dart-define<span class="o">=</span><span class="nv">SUPABASE_URL</span><span class="o">=</span><span class="s2">&#34;your-supabase-url&#34;</span> --dart-define<span class="o">=</span><span class="nv">SUPABASE_ANNON_KEY</span><span class="o">=</span><span class="s2">&#34;your-supabase-key&#34;</span> 
</span></span></code></pre></div><ul>
<li>Configure Supabase CLI <strong>(required for online)</strong>:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">supabase login
</span></span><span class="line"><span class="cl">supabase init
</span></span><span class="line"><span class="cl">supabase link
</span></span></code></pre></div><ul>
<li>Set up the edge function <strong>(MacOS/Linux):</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cp -r supabase_config/functions supabase/
</span></span></code></pre></div><ul>
<li>Set up the edge function <strong>(Windows CMD):</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd"><span class="line"><span class="cl">robocopy .\supabase_config\functions .\supabase\ /E 
</span></span></code></pre></div><ul>
<li>
<p>(Alternatively, copy the functions folder to the local supabase folder using your file explorer)
<br></br></p>
</li>
<li>
<p>Deploy the edge function to Supabase:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">supabase functions deploy delete_user_account
</span></span></code></pre></div><h2 id="finish">Finish</h2>
<p>After successfully building Allocate, the application, build libraries, and data will be located in the build/your-os-target/ folder.
At this point, there are still a few steps required to <a href="//localhost:1313/docs/installation/">package and install</a> Allocate.</p>

      </div>
      








  
  
  
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

      
    
        

        
          
        

        
        
      


<footer id="article-footer">
  <time id="article-last-updated" datetime="2024-05-17"><i class="icon icon-calendar"></i>&nbsp;Last updated: 2024-05-17</time>

  
    <a id="article-prev-link" href="/docs/why-do-i-have-to-build-allocate/"><i class="icon icon-prev icon-colored"></i> Prev</a>
  

  
    <a id="article-next-link"  href="/docs/installation/">Next <i class="icon icon-next icon-colored"></i></a>
  
</footer>
    </article>
    <aside id="toc">
  <span class="btn-close"><i class="icon icon-close"></i></span>
  <div class="sticky">
    <strong><i class="icon icon-toc"></i> On this page</strong>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisites">Prerequisites</a>
      <ul>
        <li><a href="#build-tools">Build Tools</a></li>
        <li><a href="#database-hosting-online-only">Database Hosting (Online only)</a></li>
      </ul>
    </li>
    <li><a href="#dependencies">Dependencies</a>
      <ul>
        <li><a href="#flutter">Flutter</a></li>
        <li><a href="#supabase">Supabase</a></li>
        <li><a href="#supabase-cli">Supabase CLI</a></li>
        <li><a href="#allocate-project">Allocate Project</a></li>
      </ul>
    </li>
    <li><a href="#building">Building</a>
      <ul>
        <li><a href="#online">Online</a></li>
        <li><a href="#offline">Offline</a></li>
        <li><a href="#building-manually">Building manually</a></li>
      </ul>
    </li>
    <li><a href="#finish">Finish</a></li>
  </ul>
</nav>
  </div>
</aside>
  </main>
</div>

    <footer id="site-footer">
  
  <div id="site-footer-copyright">
    <a href="https://jordan-clayton.github.io" target="_blank">
      <i class="icon icon-copyright"></i> 2024 Jordan Clayton
    </a>
  </div>

  
  <div id="site-footer-social">

    

    

    

    

  </div>

  
  <div id="site-footer-fund">

    

    

  </div>

  
  <div id="site-footer-love">
    Made with <i class="icon icon-love icon-colored"></i> &nbsp;from&nbsp;<a href="https://docura.github.io/" target="_blank">Docura</a>
  </div>
</footer>
    






<script type="text/javascript" src="/js/base.min.js"></script>



  
  <script src="/js/component/docsearch.min.js"></script>
  <script type="application/javascript">
      docsearch({
          container: '#site-header-search',
          appId: 'CNK71ZG9VQ',
          indexName: 'allocate-docs',
          apiKey: '9ffd9aeab725f6394142cc30a355cb2b',
      });
  </script>


<script type="application/javascript">
    if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js?2024-05-18')
            .catch(function(err) {console.error('ServiceWorker registration failed: ', err);});
    }
</script>
  </body>
</html>